<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Brand Studio ‚Äî Sistema de Marca</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=DM+Mono:wght@400;500&family=Syne:wght@600;700;800&family=DM+Sans:wght@400;500;600&display=swap" rel="stylesheet">
  <style>
:root {--bg:#0d0d0f;--surface:#16161a;--surface2:#1e1e24;--surface3:#28282f;--border:rgba(255,255,255,0.07);--border2:rgba(255,255,255,0.12);--ink:#f0eff4;--ink2:#9a99a8;--ink3:#5c5b6b;--accent:#c8fa5a;--accent2:#7f5af0;--ok:#59f19b;--bad:#ff6b6b;--warn:#ffd26b;--radius:14px;--radius-sm:8px;--mono:'DM Mono',ui-monospace,monospace;--sans:'DM Sans',system-ui,sans-serif;--display:'Syne',system-ui,sans-serif;--shadow:0 0 0 1px rgba(255,255,255,0.04),0 8px 32px rgba(0,0,0,.5)}
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0} body{font-family:var(--sans);background:var(--bg);color:var(--ink);min-height:100vh;overflow-x:hidden}
.app-header{position:sticky;top:0;z-index:100;background:rgba(13,13,15,.85);backdrop-filter:blur(20px);border-bottom:1px solid var(--border);padding:0 28px;display:flex;align-items:center;justify-content:space-between;height:56px}.app-logo{font-family:var(--display);font-size:14px;font-weight:800;letter-spacing:.04em;display:flex;align-items:center;gap:10px}.app-logo-dot{width:8px;height:8px;border-radius:50%;background:var(--accent)}.global-status{display:flex;align-items:center;gap:8px;font-size:11.5px;font-family:var(--mono);color:var(--ink2)}
.status-dot{width:6px;height:6px;border-radius:50%;background:var(--ink3)} .status-dot.ok{background:var(--ok)} .status-dot.bad{background:var(--bad)}
.tab-bar{display:flex;gap:4px;padding:16px 28px 0}.tab-btn{font-family:var(--display);font-size:13px;font-weight:700;padding:9px 20px;border-radius:999px;border:1px solid transparent;background:transparent;color:var(--ink3);cursor:pointer}.tab-btn.active{background:var(--accent);color:#0d0d0f}
.wrap{max-width:1360px;margin:0 auto;padding:20px 28px 48px}.grid-2{display:grid;grid-template-columns:420px 1fr;gap:16px}@media(max-width:1100px){.grid-2{grid-template-columns:1fr}}
.fb-grid{display:grid;grid-template-columns:340px 1fr 300px;gap:16px}@media(max-width:1200px){.fb-grid{grid-template-columns:1fr}}
.card{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);overflow:hidden}.card-head{padding:14px 18px 12px;border-bottom:1px solid var(--border);display:flex;justify-content:space-between}.card-title{font-family:var(--display);font-size:12px;font-weight:700;letter-spacing:.1em;text-transform:uppercase;color:var(--ink2)}.card-body{padding:16px 18px}
.badge{font-family:var(--mono);font-size:10.5px;padding:3px 9px;border-radius:999px;border:1px solid var(--border2);background:var(--surface2);color:var(--ink3)}.badge.ok{background:rgba(89,241,155,.1);color:var(--ok)}
.field{display:flex;flex-direction:column;gap:6px;margin-bottom:12px}.field label{font-family:var(--mono);font-size:10px;text-transform:uppercase;color:var(--ink3)}.help{font-size:11.5px;color:var(--ink3);font-family:var(--mono)}
input[type="text"],input[type="number"],select{width:100%;padding:10px 13px;border-radius:var(--radius-sm);border:1px solid var(--border2);background:var(--surface2);color:var(--ink)}
input[type="file"]{width:100%;padding:10px 13px;border-radius:var(--radius-sm);border:1px dashed var(--border2);background:var(--surface2);color:var(--ink2)}
.row{display:flex;gap:10px;align-items:flex-end}.row>.field{flex:1;margin-bottom:0}
button{font-family:var(--display);font-size:12.5px;font-weight:700;padding:10px 16px;border-radius:var(--radius-sm);border:1px solid transparent;cursor:pointer;width:100%}button.primary{background:var(--accent);color:#0d0d0f}button.secondary{background:transparent;color:var(--ink2);border-color:var(--border2)}button.ghost{background:transparent;color:var(--ink3);border:none;padding:8px 10px;width:auto}button:disabled{opacity:.3}
.upload-zone{margin-bottom:10px;border:1px dashed var(--border2);border-radius:var(--radius-sm);padding:12px 14px;background:var(--surface2)}.upload-zone-label{font-family:var(--mono);font-size:10px;text-transform:uppercase;color:var(--ink3)}
.upload-status{font-size:11.5px;font-family:var(--mono);color:var(--ink3)}.upload-status.ok{color:var(--ok)}.upload-status.bad{color:var(--bad)}
.palette-item{display:flex;align-items:center;gap:8px;padding:8px 10px;border:1px solid var(--border);border-radius:var(--radius-sm);background:var(--surface2);margin-bottom:6px}.color-swatch{width:22px;height:22px;border-radius:6px;border:1px solid rgba(255,255,255,.15);position:relative}.color-swatch input[type="color"]{position:absolute;inset:0;opacity:0;width:100%;height:100%}
.hex-input{flex:0 0 100px;font-family:var(--mono);font-size:11.5px;padding:6px 8px}.icon-btn{width:28px;height:28px;border-radius:6px;border:1px solid var(--border2);background:transparent;color:var(--ink3)}
.preview-pane{display:flex;flex-direction:column;gap:12px}.preview-final{border:1px solid var(--border);border-radius:var(--radius);background:var(--surface2);overflow:hidden;min-height:300px}.preview-final-head{padding:12px 16px;border-bottom:1px solid var(--border);display:flex;justify-content:space-between;background:var(--surface)}.canvas-area{display:flex;align-items:center;justify-content:center;padding:24px;min-height:260px}.canvas-area svg{max-width:100%;max-height:260px}
.preview-meta{padding:10px 16px;border-top:1px solid var(--border);background:var(--surface);font-family:var(--mono);font-size:10.5px;color:var(--ink3);display:flex;gap:16px;flex-wrap:wrap}
.parts-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:10px}.part-card{border:1px solid var(--border);border-radius:var(--radius-sm);background:var(--surface2)}.part-card-head{padding:8px 12px;border-bottom:1px solid var(--border);display:flex;justify-content:space-between}.part-canvas{display:flex;align-items:center;justify-content:center;padding:16px;min-height:90px;background:var(--surface3)}.part-canvas svg{max-width:100%;max-height:80px}
.slider-row{display:flex;flex-direction:column;gap:5px;margin-bottom:10px}.slider-label{display:flex;justify-content:space-between}.slider-label span{font-family:var(--mono);font-size:10px;color:var(--ink3)}.slider-label .val{color:var(--accent)}
.section-label{font-family:var(--mono);font-size:9.5px;text-transform:uppercase;color:var(--ink3);margin-bottom:10px;padding-top:6px}.export-row{display:grid;grid-template-columns:1fr 1fr;gap:8px;margin-top:8px}
.tree-box{border:1px dashed rgba(255,255,255,.08);border-radius:var(--radius-sm);min-height:200px;background:var(--surface2);padding:10px}
ul.tree-root{list-style:none}li.node{margin:5px 0;border:1px solid var(--border);border-radius:10px;background:var(--surface3)}.node-row{display:flex;align-items:center;justify-content:space-between;padding:8px 10px 8px 12px;cursor:pointer}.children{padding:0 8px 8px 18px}
.file-item{display:flex;align-items:center;justify-content:space-between;gap:8px;padding:9px 12px;border:1px solid var(--border);border-radius:var(--radius-sm);background:var(--surface2);margin-bottom:6px;cursor:grab}
.type-pill{font-size:10px;padding:3px 8px;border-radius:999px;border:1px solid var(--border2);background:var(--surface3);font-family:var(--mono)} .type-pill.svg{color:var(--accent)} .type-pill.png{color:var(--accent2)}
.json-preview{margin:0;padding:12px 14px;background:var(--surface2);border:1px solid var(--border);border-radius:var(--radius-sm);max-height:220px;overflow:auto;font-family:var(--mono);font-size:10.5px;color:var(--ink2)}
#measure{position:absolute;left:-99999px;top:-99999px;width:10px;height:10px;opacity:0}.empty-state{display:flex;flex-direction:column;align-items:center;gap:8px;padding:32px 20px;color:var(--ink3);text-align:center}
.bg-toggles{display:flex;gap:4px}.bg-toggle{width:22px;height:22px;border-radius:5px;border:1px solid var(--border2);cursor:pointer}.bg-toggle.active{border-color:var(--accent)}.bg-toggle.white{background:#fff}.bg-toggle.black{background:#000}.bg-toggle.checker{background:repeating-conic-gradient(#555 0% 25%,#222 0% 50%) 0 0 / 10px 10px}
  </style>
  <script src="https://cdn.jsdelivr.net/npm/jszip@3.10.1/dist/jszip.min.js"></script>
</head>
<body>
<svg id="measure"></svg>
<header class="app-header"><div class="app-logo"><div class="app-logo-dot"></div>Brand Studio</div><div class="global-status"><div class="status-dot" id="statusDot"></div><span id="globalStatus">Aguardando arquivos</span></div></header>
<div class="tab-bar"><button class="tab-btn active" id="tabBrand">‚ë† Marca</button><button class="tab-btn" id="tabFolders">‚ë° Pastas / Export</button></div>
<div class="wrap"><div id="viewBrand" class="view"><div class="grid-2"><div style="display:flex;flex-direction:column;gap:16px"><div class="card"><div class="card-head"><span class="card-title">Identidade da Marca</span><span class="badge" id="renderStatus">Aguardando</span></div><div class="card-body"><div class="field"><label>Nome base (para arquivos)</label><input id="brandBaseName" type="text" value="minha-marca" placeholder="ex: empresa-x" /><div class="help">Exemplo: <code>empresa-x_horizontal_roxo.svg</code></div></div><div class="section-label">Uploads de SVG</div><div class="upload-zone" id="zoneSymbol"><div class="upload-zone-label">S√≠mbolo / √çcone ‚ú¶</div><input id="fileSymbol" type="file" accept=".svg,image/svg+xml" /><div class="upload-status" id="statusSymbol">Nenhum arquivo. Arraste ou clique acima.</div></div><div class="upload-zone" id="zoneLogo1"><div class="upload-zone-label">Logotipo ‚Äî Parte 1 ‚ú¶</div><input id="fileLogo1" type="file" accept=".svg,image/svg+xml" /><div class="upload-status" id="statusLogo1">Nenhum arquivo.</div></div><div class="upload-zone" id="zoneLogo2"><div class="upload-zone-label">Logotipo ‚Äî Parte 2 (opcional)</div><input id="fileLogo2" type="file" accept=".svg,image/svg+xml" /><div class="upload-status" id="statusLogo2">Opcional ‚Äî ex: slogan, complemento.</div></div></div></div><div class="card"><div class="card-head"><span class="card-title">Layout & Composi√ß√£o</span></div><div class="card-body"><div class="row"><div class="field"><label>Estrutura da marca</label><select id="markLayout"><option value="horizontal" selected>Horizontal (s√≠mbolo + logo)</option><option value="vertical">Vertical (s√≠mbolo acima)</option></select></div><div class="field"><label>Layout do logotipo</label><select id="typeLayout"><option value="stack" selected>Stack (1 sobre 2)</option><option value="inline">Inline (1 ao lado 2)</option></select></div></div><div class="row"><div class="field"><label>Grid de constru√ß√£o</label><select id="showGrid"><option value="off" selected>Oculto</option><option value="on">Vis√≠vel</option></select></div><div class="field"><label>√Årea de prote√ß√£o</label><select id="showSafeRect"><option value="on" selected>Vis√≠vel</option><option value="off">Oculta</option></select></div></div><div class="section-label" style="margin-top:4px;">Sistema X</div><div class="field"><label>Origem do X</label><select id="xMode"><option value="manual" selected>Manual (px)</option><option value="fromSymbol">Derivado da altura do s√≠mbolo</option><option value="fromLogo1">Derivado da altura do Logo 1</option></select></div><div class="row" style="margin-bottom:12px;"><div class="field"><label>X manual (px)</label><input id="xManual" type="number" min="1" step="1" value="16" /></div><div class="field"><label>Divisor <span id="xValueLabel" style="color:var(--accent);font-size:10px;"></span></label><input id="xDiv" type="number" min="1" step="1" value="4" /></div></div><div class="slider-row"><div class="slider-label"><span>Tamanho do s√≠mbolo</span><span class="val" id="symScaleLabel">8X</span></div><input id="symScale" type="range" min="3" max="18" value="8" /></div><div class="slider-row"><div class="slider-label"><span>Espa√ßo s√≠mbolo ‚Üî logo</span><span class="val" id="gapLabel">2X</span></div><input id="gap" type="range" min="0" max="12" value="2" /></div><div class="slider-row"><div class="slider-label"><span>Gap entre Logo 1 e Logo 2</span><span class="val" id="logoGapLabel">1X</span></div><input id="logoGap" type="range" min="0" max="10" value="1" /></div><div class="slider-row"><div class="slider-label"><span>Padding (safe area)</span><span class="val" id="padLabel">2X</span></div><input id="pad" type="range" min="0" max="12" value="2" /></div><div class="field" style="margin-top:4px;"><label>PNG ‚Äî Fundo</label><select id="pngBg"><option value="transparent" selected>Transparente</option><option value="white">Branco</option></select></div></div></div><div class="card"><div class="card-head"><span class="card-title">Paleta de Cores</span></div><div class="card-body"><p class="field" style="margin-bottom:10px;"><span class="help">Cores ativadas geram varia√ß√µes no pacote de exporta√ß√£o.</span></p><div id="paletteList"></div><div class="export-row"><button class="secondary" id="btnAddColor">+ Adicionar cor</button><button class="ghost" id="btnResetPalette">‚Ü∫ Resetar</button></div></div></div><div class="card"><div class="card-head"><span class="card-title">Exportar</span></div><div class="card-body"><div class="field"><label>Visualizar variante</label><select id="previewVariant"></select></div><div class="export-row"><button class="secondary" id="btnExportSVG" disabled>‚Üì SVG</button><button class="primary" id="btnExportPNG" disabled>‚Üì PNG</button></div><hr /><div class="export-row"><button class="secondary" id="btnGenerateAssets" disabled>Gerar pacote</button><button class="primary" id="btnGoFolders" disabled>‚Üí Pastas</button></div><div class="help" id="exportStatus" style="margin-top:8px;font-size:11.5px;">Dica: a cor √© aplicada a todos os elementos com fill/stroke (exceto <code>none</code>).</div></div></div></div><div class="preview-pane"><div class="preview-final card"><div class="preview-final-head"><span class="title">Composi√ß√£o Final</span><div style="display:flex;align-items:center;gap:8px;"><div class="bg-toggles"><div class="bg-toggle checker active" id="bgChecker" onclick="setCanvasBg('checker',this)"></div><div class="bg-toggle white" id="bgWhite" onclick="setCanvasBg('white',this)"></div><div class="bg-toggle black" id="bgBlack" onclick="setCanvasBg('black',this)"></div></div><span class="badge" id="variantBadge">‚Äî</span><span class="badge" id="readyBadge">Aguardando</span></div></div><div class="canvas-area" id="prevFinal"><div class="empty-state"><div class="icon">‚óé</div><p>Carregue o S√≠mbolo e Logo 1<br>para visualizar a composi√ß√£o.</p></div></div><div class="preview-meta" id="metaBar"><span><b>X</b> ‚Äî</span><span><b>W</b> ‚Äî</span><span><b>H</b> ‚Äî</span><span><b>Layout</b> ‚Äî</span></div></div><div class="parts-grid"><div class="part-card"><div class="part-card-head"><span>S√≠mbolo</span><span class="badge" id="bSymbol">‚Äî</span></div><div class="part-canvas" id="prevSymbol"><div style="color:var(--ink3);font-size:11px;font-family:var(--mono);">‚Äî</div></div></div><div class="part-card"><div class="part-card-head"><span>Logo 1</span><span class="badge" id="bLogo1">‚Äî</span></div><div class="part-canvas" id="prevLogo1"><div style="color:var(--ink3);font-size:11px;font-family:var(--mono);">‚Äî</div></div></div><div class="part-card"><div class="part-card-head"><span>Logo 2</span><span class="badge" id="bLogo2">Opcional</span></div><div class="part-canvas" id="prevLogo2"><div style="color:var(--ink3);font-size:11px;font-family:var(--mono);">‚Äî</div></div></div></div></div></div></div><div id="viewFolders" class="view" style="display:none;"><div class="fb-grid"><div class="card"><div class="card-head"><span class="card-title">Estrutura de Pastas</span><span class="badge" id="countBadge">0 pastas</span></div><div class="card-body"><div class="field"><label>Nome da pasta</label><input id="folderName" type="text" placeholder="ex: 01_SVG" /></div><div class="export-row" style="margin-bottom:10px;"><button class="secondary" id="btnAddRoot">+ Raiz</button><button class="secondary" id="btnAddChild">+ Subpasta</button></div><div class="export-row" style="margin-bottom:14px;"><button class="ghost" id="btnClear" style="width:auto;flex:1;">‚úï Limpar</button><button class="primary" id="btnAutoFolders" style="flex:2;">‚ö° Preset padr√£o</button></div><hr /><div class="field"><label>Pasta raiz no ZIP</label><input id="rootFolderName" type="text" value="BrandPackage" /></div><div class="field"><label>Template de nome</label><input id="nameTemplate" type="text" value="{brand}_{mark}_{type}_{color}_{bg}.{ext}" /></div><div class="export-row" style="margin-bottom:14px;"><button class="ghost" id="btnTemplateSimple" style="width:auto;flex:1;font-size:11px;">Simples</button><button class="ghost" id="btnTemplateDetailed" style="width:auto;flex:1;font-size:11px;">Detalhado</button></div><hr /><div class="export-row"><button class="secondary" id="btnExportJson">‚Üì JSON</button><button class="primary" id="btnExportZip">‚Üì ZIP</button></div><div class="help" id="zipHint" style="margin-top:8px;font-size:11px;">Arraste arquivos (coluna direita) e solte nas pastas. O ZIP preserva a hierarquia.</div></div></div><div class="card"><div class="card-head"><span class="card-title">Estrutura</span><span class="badge">arraste ‚Üí solte na pasta</span></div><div class="card-body"><div class="tree-box"><ul class="tree-root" id="treeRoot"></ul><div class="empty-state" id="emptyHint"><div class="icon">üìÅ</div><p>Adicione uma pasta para come√ßar.</p></div></div><div class="section-label" style="margin-top:12px;">Preview JSON</div><pre class="json-preview" id="jsonPreview">{}</pre></div></div><div class="card"><div class="card-head"><span class="card-title">Arquivos Gerados</span><span class="badge" id="filesBadge">0</span></div><div class="card-body"><p class="help" style="margin-bottom:10px;font-size:11px;">Clique para selecionar ¬∑ arraste para a pasta desejada.</p><div id="filesList"></div><div class="empty-state" id="filesEmptyHint"><div class="icon">üì¶</div><p>Ainda n√£o h√° arquivos.<br>Volte √† aba Marca e clique<br>em <strong>Gerar pacote</strong>.</p></div></div></div></div></div></div>
<script src="brand-studio-module.js"></script>
</body>
</html>
